@startuml

title "BetPack Data Flow (Current) - Konami"
'https://plantuml.com/class-diagram

'skinparam nodesep 35
'skinparam ranksep 60

left to right direction
'skinparam linetype polyline
'skinparam nodesep 5
'skinparam ranksep 5
hide circle
hide methods
hide fields

package NonGameEntities {
    package Shop {
        class Sellables
    }
    
    package Tournaments {
        class Tournaments
    }
}

package MVPlayer {
    class Runner
}

package WebApi {
    class GameControllers
}

package GameApiController {
    class GetGameplaySupportKnowledge
}

package ForJackpotManager {
    class JackpotManager
}

package AllGamesRelated {
    class RGameIdToBetPackCore
    class GameIdToMetagameAndRMaybeAvailableBetPackCore
    class GameIdToMetagameAndBetPack
    class SinglePlatformJackpotEnvironment
    class GetBetPack
    
'    class GameIdToGameTableEntry
    class WagerConfig
    class GameControlFiles

    class GetBetPackCore
   
}

JackpotManager --> SinglePlatformJackpotEnvironment
SinglePlatformJackpotEnvironment --> RGameIdToBetPackCore
Runner --> RGameIdToBetPackCore
Tournaments --> RGameIdToBetPackCore
Tournaments --> GameIdToMetagameAndBetPack
Sellables --> GetBetPack

GetBetPack --> GetBetPackCore
RGameIdToBetPackCore --> GetBetPackCore

GameIdToMetagameAndRMaybeAvailableBetPackCore --> GetBetPackCore
GameIdToMetagameAndBetPack --> GetBetPackCore

GameControllers --> GetGameplaySupportKnowledge

GetGameplaySupportKnowledge --> GameIdToMetagameAndRMaybeAvailableBetPackCore

'GameIdToMetagameAndRMaybeAvailableBetPackCore --> GameIdToGameTableEntry
'GameIdToMetagameAndRMaybeAvailableBetPackCore --> GameWagersRoot

'GameIdToGameTableEntry --> GameControlFile

GetBetPackCore --> WagerConfig
GetBetPackCore --> GameControlFiles

'SinglePlatformJackpotEnvironment --> GameIdToGameTableEntry

@enduml
